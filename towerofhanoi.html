<!DOCTYPE html>
<html lang="vi">
<head>
          <title>Tin tức Python PyMI.vn</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="utf-8" />
        <link href="https://n.pymi.vn/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tin tức Python PyMI.vn Full Atom Feed" />
        <!-- twitter card metadata -->
<meta name="twitter:site" content="">
<meta name="twitter:title" content="Giải bài toán tháp Hà Nội dùng đệ&nbsp;quy">
<meta name="twitter:description" content="Phân tích và giải quyết">
        <!-- OG Tags -->
<meta property="og:url" content="./towerofhanoi.html"/>
<meta property="og:title" content="Giải bài toán tháp Hà Nội dùng đệ&nbsp;quy | Tin tức Python PyMI.vn" />
<meta property="og:description" content="Phân tích và giải quyết" />
        <!-- favicon -->
        <!-- moment.js for date formatting -->
        <script src="./theme/js/moment.js"></script>
        <!-- css -->
        <link rel="stylesheet" type="text/css" href="./theme/css/main.css" />
		<script>
			
                /*! grunt-grunticon Stylesheet Loader - v2.1.2 | https://github.com/filamentgroup/grunticon | (c) 2015 Scott Jehl, Filament Group, Inc. | MIT license. */
    
    (function(e){function t(t,n,r,o){"use strict";function a(){for(var e,n=0;u.length>n;n++)u[n].href&&u[n].href.indexOf(t)>-1&&(e=!0);e?i.media=r||"all":setTimeout(a)}var i=e.document.createElement("link"),l=n||e.document.getElementsByTagName("script")[0],u=e.document.styleSheets;return i.rel="stylesheet",i.href=t,i.media="only x",i.onload=o||null,l.parentNode.insertBefore(i,l),a(),i}var n=function(r,o){"use strict";if(r&&3===r.length){var a=e.navigator,i=e.Image,l=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||e.opera&&-1===a.userAgent.indexOf("Chrome")||-1!==a.userAgent.indexOf("Series40")),u=new i;u.onerror=function(){n.method="png",n.href=r[2],t(r[2])},u.onload=function(){var e=1===u.width&&1===u.height,a=r[e&&l?0:e?1:2];n.method=e&&l?"svg":e?"datapng":"png",n.href=a,t(a,null,null,o)},u.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",document.documentElement.className+=" grunticon"}};n.loadCSS=t,e.grunticon=n})(this);(function(e,t){"use strict";var n=t.document,r="grunticon:",o=function(e){if(n.attachEvent?"complete"===n.readyState:"loading"!==n.readyState)e();else{var t=!1;n.addEventListener("readystatechange",function(){t||(t=!0,e())},!1)}},a=function(e){return t.document.querySelector('link[href$="'+e+'"]')},c=function(e){var t,n,o,a,c,i,u={};if(t=e.sheet,!t)return u;n=t.cssRules?t.cssRules:t.rules;for(var l=0;n.length>l;l++)o=n[l].cssText,a=r+n[l].selectorText,c=o.split(");")[0].match(/US\-ASCII\,([^"']+)/),c&&c[1]&&(i=decodeURIComponent(c[1]),u[a]=i);return u},i=function(e){var t,o,a;o="data-grunticon-embed";for(var c in e)if(a=c.slice(r.length),t=n.querySelectorAll(a+"["+o+"]"),t.length)for(var i=0;t.length>i;i++)t[i].innerHTML=e[c],t[i].style.backgroundImage="none",t[i].removeAttribute(o);return t},u=function(t){"svg"===e.method&&o(function(){i(c(a(e.href))),"function"==typeof t&&t()})};e.embedIcons=i,e.getCSS=a,e.getIcons=c,e.ready=o,e.svgLoadedCallback=u,e.embedSVG=u})(grunticon,this);
                
                grunticon(["./theme/css/icons.data.svg.css", "./theme/css/icons.data.png.css", "./theme/css/icons.fallback.css"]);
            </script>
        <noscript><link href="./theme/css/icons.fallback.css" rel="stylesheet"></noscript>
        <!-- menu toggle javascript -->
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", initMenu);
            
            function initMenu(){
                var menu = document.getElementById("menu");
                var menulink = document.getElementById("menu-link");
                menulink.addEventListener("click", function toggleMenu(){
                        window.event.preventDefault();
                        menulink.classList.toggle('active');
                        menu.classList.toggle('active');              
                    });
            };
        </script>

    <meta name="description" content="Phân tích và giải quyết" />

    <meta name="tags" content="python" />
    <meta name="tags" content="algorithm" />
    <meta name="tags" content="recursive" />

</head>
<body>
    <div role="banner" id="masthead">
        <header>
            <h1><a href="/">Pymiers's Blog</a></h1>
            <a href="#menu" id="menu-link">more stuff</a>
            <nav id="menu">
                <ul>
                            <li><a href="./category/features.html">features</a></li>
                            <li class="active"><a href="./category/news.html">news</a></li>
                            <li><a href="./category/pymivn.html">pymi.vn</a></li>
                </ul>
            </nav>
        </header>
    </div>
        <div class="page" role="main">
  <div class="article" role="article">
    <article>
        <footer>
            <a name="top"></a>
            <p>
              <time datetime=" 2023-08-19 00:00:00+07:00">
                <script>document.write(moment('2023-08-19 00:00:00+07:00').format('LL'));</script>
              </time>
            </p>
        </footer>
        <header>
          <h2>
            Giải bài toán tháp Hà Nội dùng đệ&nbsp;quy
          </h2>
        </header>
      <div class="content">
         <p>Tower of Hanoi là một bài toán kinh điển trong ngành khoa học máy tính, được dạy ở mọi trường đại học dạy <span class="caps">CNTT</span> ở Việt Nam trong môn &#8220;Toán Rời&nbsp;Rạc&#8221;.</p>
<h3>Tower of Hanoi không phải của người&nbsp;Việt</h3>
<p>Tower of Hanoi được phát minh bởi nhà toán học người Pháp Édouard Lucas năm 1883 và ông này không có gốc&nbsp;Việt.</p>
<p>Bài toán phát biểu như&nbsp;sau:</p>
<ul>
<li>Cho 3 cái cột, cần chuyển các đĩa từ cột 1 sang cột 3, thông qua cột&nbsp;2</li>
<li>Mỗi lần chỉ được chuyển 1 đĩa, đĩa bên dưới phải to hơn đĩa bên&nbsp;trên.</li>
</ul>
<h3>Bài&nbsp;giải</h3>
<p>Hình ảnh minh họa sinh động bài&nbsp;giải:</p>
<p><img alt="solve Tower of Hanoi" src="https://upload.wikimedia.org/wikipedia/commons/6/60/Tower_of_Hanoi_4.gif"></p>
<p>Phân tích cách viết function đệ&nbsp;quy:</p>
<p>Đặt 3 cột là source (nguồn), dest (đích), tmp (trung gian), function tên move, ban đầu có thể nghĩ function trông như&nbsp;sau:</p>
<div class="highlight"><pre><span></span><code><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
</code></pre></div>

<p>Khi viết recursive function, thường sử dụng các argument để lưu trạng thái (state) function.
Bài toán này có 1 trạng thái là số lượng đĩa còn lại cần chuyển, ban đầu có giá trị là n, khi kết thúc là 0.
Sau mỗi bước chuyển, trạng thái của bài toán được lưu giữ trong số đĩa còn lại và nội dung của mỗi cột.
Vậy function sẽ trở&nbsp;thành</p>
<div class="highlight"><pre><span></span><code><span class="n">move</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
</code></pre></div>

<p>Có thể cho rằng chỉ cần 3 cột cũng đủ biểu diễn trạng thái của chương trình, không cần tới <code>n</code>, và dùng <code>len(source)</code> để tính số đĩa còn lại, nhưng khi giải, các cột lần lượt thay đổi vai trò của nhau khiến không thể biết cột nào là cột <code>source</code> ban&nbsp;đầu.</p>
<div class="highlight"><pre><span></span><code><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">C</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">tmp</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">move</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
        <span class="n">dest</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="s2">&quot;#####&quot;</span><span class="p">)</span>
        <span class="n">move</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>

<span class="n">move</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
</code></pre></div>

<p>(code theo <a href="https://en.wikipedia.org/w/index.php?title=Tower_of_Hanoi&amp;oldid=1139870102#Recursive_implementation">https://en.wikipedia.org/w/index.php?title=Tower_of_Hanoi&amp;oldid=1139870102#Recursive_implementation</a>)</p>
<p>Bài toán dừng lại khi n = 0, để move đĩa 3 từ A sang&nbsp;C:</p>
<ul>
<li>cần move 2 đĩa trên từ A sang B, dùng C làm trung&nbsp;gian</li>
<li>rồi chuyển đĩa 3 từ A sang&nbsp;C</li>
<li>sau đó, chuyển 2 đĩa từ B sang C sử dụng A làm trung&nbsp;gian.</li>
</ul>
<p>Chú ý <code>print</code> A B C chứ không in ra source, dest, tmp, bởi dùng A B C mới giữ được thứ tự các&nbsp;cột.</p>
<div class="highlight"><pre><span></span><code>[3, 2] [] [1] #####
[3] [2] [1] #####
[3] [2, 1] [] #####
[] [2, 1] [3] #####
[1] [2] [3] #####
[1] [] [3, 2] #####
[] [] [3, 2, 1] #####
</code></pre></div>

<h3>Tham&nbsp;khảo</h3>
<p><a href="https://en.wikipedia.org/wiki/Tower_of_Hanoi">https://en.wikipedia.org/wiki/Tower_of_Hanoi</a></p>
<h3>Kết&nbsp;luận</h3>
<p>Tháp Hà Nội ở đó, chuyển đi&nbsp;đâu?</p>
<p>Hết.</p>
<p>Đăng ký ngay tại <a href="https://pymi.vn">PyMI.vn</a> để học Python tại Hà Nội <span class="caps">TP</span> <span class="caps">HCM</span> (Sài Gòn),
trở thành lập trình viên #python chuyên nghiệp ngay sau khóa&nbsp;học.</p>
      </div>
      <div class="back-to-top">
          <a href="#top">back to top</a>
      </div>
    </article>
  </div>
<!-- end article -->
                <footer>
                    <div class="icons">
                        <a href="https://github.com/pymivn" target="_blank"><div class="icon-github icon"></div></a>
                    </div>
                    <p>© <script>document.write(moment().format('YYYY'));</script> Pymiers</p>
                </footer>
        </div>
</body>
</html>